<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Gimbal by Datamaglia</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>Gimbal</h1>
        <p>An HTTP testing system</p>

        <p class="view"><a href="https://github.com/Datamaglia/gimbal">View the Project on GitHub <small>Datamaglia/gimbal</small></a></p>


        <ul>
          <li><a href="https://github.com/Datamaglia/gimbal/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/Datamaglia/gimbal/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/Datamaglia/gimbal">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <h3>
<a id="introduction" class="anchor" href="#introduction" aria-hidden="true"><span class="octicon octicon-link"></span></a>Introduction</h3>

<p>Gimbal is designed for testing HTTP APIs (REST or otherwise) and web sites. It allows the developer to describe requests and the responses those requests are expected to generate using a simple JSON or YAML document. Since Gimbal ships as a single, compiled binary it is easy to run in a variety of cases, including during a CI build process. It can also be scheduled using <code>cron</code> or similar.</p>

<h3>
<a id="example-test-suite" class="anchor" href="#example-test-suite" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example Test Suite</h3>

<p>Below is an extremely simple (trivially so) test suite for use with Gimbal. If you'd like to see a more complete example, check out <a href="https://github.com/Datamaglia/gimbal/blob/master/examples/httpbin.json">httpbin.json</a>, which tests a number of the <a href="http://httpbin.org/">httpbin</a> endpoints. For now, let's take a quick look at the simple example.</p>

<p>A Gimbal test suite is defined using a JSON file (YAML and other formats will be supported soon). There is one required key, <code>specs</code>, which hold a list of test specs to be run. Each spec has two required bits: the request, which defines the request to send, and the response, which defines assertions about the response that comes back from the server.</p>

<p>There are two ways to define a request. The first example below uses the <code>url</code> key, which defines an entire URL string, including the protocol, URI, and (optionally) the port. The first test attempts to hit a server that doesn't exist, this is so we can see a failure when it runs. The second spec defines the pieces of the URL individually. The reason for this second option is that any of these can be defined once for the whole file, and the global values will be copied into any spec that doesn't have them. This cuts down on the required typing and simplifies updates.</p>

<div class="highlight highlight-json"><pre>{
    <span class="pl-s1"><span class="pl-pds">"</span>specs<span class="pl-pds">"</span></span>: [{
        <span class="pl-s1"><span class="pl-pds">"</span>request<span class="pl-pds">"</span></span>: {
            <span class="pl-s1"><span class="pl-pds">"</span>url<span class="pl-pds">"</span></span>: <span class="pl-s1"><span class="pl-pds">"</span>http://fakeandnonexistentdomain.com<span class="pl-pds">"</span></span>
        },
        <span class="pl-s1"><span class="pl-pds">"</span>response<span class="pl-pds">"</span></span>: {
            <span class="pl-s1"><span class="pl-pds">"</span>statusCode<span class="pl-pds">"</span></span>: <span class="pl-c1">200</span>
        }
    },{
        <span class="pl-s1"><span class="pl-pds">"</span>request<span class="pl-pds">"</span></span>: {
            <span class="pl-s1"><span class="pl-pds">"</span>host<span class="pl-pds">"</span></span>: <span class="pl-s1"><span class="pl-pds">"</span>gimbal.datamaglia.com<span class="pl-pds">"</span></span>,
            <span class="pl-s1"><span class="pl-pds">"</span>uri<span class="pl-pds">"</span></span>: <span class="pl-s1"><span class="pl-pds">"</span>/<span class="pl-pds">"</span></span>,
            <span class="pl-s1"><span class="pl-pds">"</span>method<span class="pl-pds">"</span></span>: <span class="pl-s1"><span class="pl-pds">"</span>GET<span class="pl-pds">"</span></span>
        },
        <span class="pl-s1"><span class="pl-pds">"</span>response<span class="pl-pds">"</span></span>: {
            <span class="pl-s1"><span class="pl-pds">"</span>statusCode<span class="pl-pds">"</span></span>: <span class="pl-c1">200</span>,
            <span class="pl-s1"><span class="pl-pds">"</span>headers<span class="pl-pds">"</span></span>: {
                <span class="pl-s1"><span class="pl-pds">"</span>Content-Type<span class="pl-pds">"</span></span>: [<span class="pl-s1"><span class="pl-pds">"</span>text/html; charset=utf-8<span class="pl-pds">"</span></span>]
            }
        }
    }]
}</pre></div>

<p>A couple things to point out. First, notice that the header value is a list. This is in case there are multiples, all values are included in a single key (to make it valid JSON). Next, and probably self-explanatory, the <code>statusCode</code> key asserts which status code we expect back from the request.</p>

<h3>
<a id="building" class="anchor" href="#building" aria-hidden="true"><span class="octicon octicon-link"></span></a>Building</h3>

<p>Right now Gimbal is under heavy development and there aren't any releases. However, you can try it out by cloning the repository (see the link the left) and building it yourself. First, you'll need a functioning Go toolchain. There are <a href="http://golang.org/doc/install">instructions</a> on the Go web site. The <a href="http://howistart.org/posts/go/1">Go article</a> at "How I Start" is also an excellent read if you want to become more familiar with how Go development "works".</p>

<p>Once you've got that set up, you can run <code>go get github.com/datamaglia/gimbal</code> to grab the repo (or fork it and change the GitHub path to your fork). Switch to the source directory and run <code>go get &amp;&amp; go build</code> and you'll have a binary in no time. Then you can run one of the examples. Try <code>./gimbal -f examples/httpbin.json</code>.</p>

<h3>
<a id="why-gimbal" class="anchor" href="#why-gimbal" aria-hidden="true"><span class="octicon octicon-link"></span></a>Why "Gimbal"</h3>

<p><a href="https://en.wikipedia.org/wiki/Gimbal">Gimbals</a> help sailors, photographers, astronauts, and others keep their tools properly aligned. Gimbal helps developers keep their production systems aligned with their specifications.</p>
      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/Datamaglia">Datamaglia</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
    
  </body>
</html>